<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>BuzzFeed India Clone</title>
    <!-- SEO & Social -->
    <meta content="Latest news, entertainment, lifestyle and trending stories from India." name="description"/>
    <meta content="news, India, entertainment, lifestyle, trending" name="keywords"/>
    <meta content="BuzzFeed India" property="og:title"/>
    <meta content="Latest news, entertainment, lifestyle and trending stories from India." property="og:description"/>
    <link href="favicon.ico" rel="icon"/>
    <link href="feed.xml" rel="alternate" type="application/rss+xml"/>
    <link href="manifest.json" rel="manifest"/>
    <link href="icons/icon-192.png" rel="apple-touch-icon"/>
    <link href="https://fonts.googleapis.com" rel="preconnect"/>
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet"/>
    <!-- Inline CSS -->
    <style>
        :root {
            --primary-color: #ee2a24;
            --text-color: #333;
            --bg-color: #f9f9f9;
            --font-base: 16px;
        }
        /* Reset & Base */
        * { margin:0; padding:0; box-sizing:border-box; }
        html { font-size: var(--font-base); scroll-behavior: smooth; }
        body { font-family:'Roboto',sans-serif; line-height:1.6; color: var(--text-color); background: var(--bg-color); transition: background .3s,color .3s; }
        a { text-decoration:none; }
        .container { width:90%; max-width:1200px; margin:0 auto; }
        img { display:block; width:100%; height:auto; }
        /* Cookie Banner */
        #cookieBanner { position:fixed; bottom:0; width:100%; background:#222; color:#fff; padding:10px; text-align:center; display:none; z-index:1000; }
        #cookieBanner button { margin-left:10px; }
        /* Header & Nav */
        header.site-header { background: var(--primary-color); color:#fff; position:sticky; top:0; z-index:100; }
        header .container { display:flex; align-items:center; justify-content:space-between; padding:10px 0; }
        .logo { font-size:1.8rem; font-weight:700; }
        nav ul { list-style:none; display:flex; gap:1rem; }
        nav li a { color:#fff; font-weight:500; position:relative; }
        nav li a::after { content:''; position:absolute; left:0; bottom:-4px; width:0; height:2px; background:#ffdede; transition:width .3s; }
        nav li a:hover::after { width:100%; }
        .menu-toggle { display:none; cursor:pointer; font-size:1.5rem; }
        @media(max-width:768px) {
            nav { display:none; position:absolute; top:60px; left:0; width:100%; background: var(--primary-color); }
            nav ul { flex-direction:column; padding:1rem 0; }
            .menu-toggle { display:block; }
        }
        /* Sections */
        section.cards-grid { margin:2rem 0; }
        section.cards-grid h2 { margin-bottom:1rem; color: var(--primary-color); font-size:1.5rem; }
        .cards-wrapper { display:grid; grid-template-columns:repeat(auto-fill,minmax(280px,1fr)); gap:1rem; }
        .card { background:#fff; border:1px solid #ddd; border-radius:5px; overflow:hidden; box-shadow:0 2px 5px rgba(0,0,0,0.1); transition:transform .2s; cursor: pointer; }
        .card:hover { transform:translateY(-5px); }
        .card-content { padding:1rem; }
        .card-content h3 { margin-bottom:0.5rem; font-size:1.2rem; }
        /* Modal Styles */
        .modal {
            display: none; 
            position: fixed; 
            z-index: 1000; 
            left: 0; 
            top: 0; 
            width: 100%; 
            height: 100%; 
            overflow: auto; 
            background-color: rgba(0,0,0,0.4); 
        }
        .modal-content {
            background-color: #fefefe; 
            margin: 15% auto; 
            padding: 20px; 
            border: 1px solid #888; 
            width: 80%; 
        }
        .close {
            color: #aaa; 
            float: right; 
            font-size: 28px; 
            font-weight: bold; 
        }
        .close:hover,
        .close:focus {
            color: black; 
            text-decoration: none; 
            cursor: pointer; 
        }
        /* Footer */
        footer.site-footer { background:#333; color:#ccc; text-align:center; padding:1rem 0; display:flex; flex-direction:column; gap:0.5rem; }
        footer .social-icons { display:flex; gap:0.5rem; }
        footer .social-icons a { color:#ccc; font-size:1.2rem; }
    </style>
</head>
<body>
<!-- Cookie Banner -->
<div id="cookieBanner">This site uses cookies. <button onclick="acceptCookies()">Accept</button></div>
<!-- Header -->
<header class="site-header">
    <div class="container">
        <span class="logo">BuzzFeed India</span>
        <span class="menu-toggle">‚ò∞</span>
        <nav>
            <ul>
                <li><a href="#news">News</a></li>
                <li><a href="#entertainment">Entertainment</a></li>
                <li><a href="#lifestyle">Lifestyle</a></li>
                <li><a href="#trending">Trending</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
        <button id="langToggle">EN/HI</button>
        <button id="themeToggle">üåô</button>
    </div>
    <div class="search-bar"><input id="searchInput" placeholder="Search articles..." type="text"/></div>
</header>
<!-- Hero Carousel -->
<section class="hero">
    <img alt="Hero 1" class="active" src="images/hero1.jpg"/>
    <img alt="Hero 2" src="images/hero2.jpg"/>
    <img alt="Hero 3" src="images/hero3.jpg"/>
    <div class="overlay container">
        <h1 id="heroTitle">Top Story Headline</h1>
        <p id="heroDesc">Short description for the top story...</p>
    </div>
</section>
<main class="container">
    <!-- Sections loaded from Firebase Realtime Database -->
    <section class="cards-grid" id="news">
        <h2>Latest News</h2>
        <div class="cards-wrapper" id="newsWrapper"></div>
        <button class="load-more" data-section="news">Load More</button>
    </section>
    <!-- Other Sections -->
    <section class="cards-grid" id="entertainment">
        <h2>Entertainment</h2>
        <div class="cards-wrapper" id="entWrapper"></div>
        <button class="load-more" data-section="entertainment">Load More</button>
    </section>
    <section class="cards-grid" id="lifestyle">
        <h2>Lifestyle</h2>
        <div class="cards-wrapper" id="lifeWrapper"></div>
        <button class="load-more" data-section="lifestyle">Load More</button>
    </section>
    <section class="cards-grid" id="trending">
        <h2>Trending</h2>
        <div class="cards-wrapper" id="trendWrapper"></div>
        <button class="load-more" data-section="trending">Load More</button>
    </section>
    <!-- Subscription Form -->
    <div class="subscribe-form">
        <h3>Subscribe for Updates</h3>
        <input placeholder="Your email" required="" type="email"/>
        <button>Subscribe</button>
    </div>
    <!-- Comments (Disqus) -->
    <div id="comments">
        <h2>Comments</h2>
        <div id="disqus_thread"></div>
    </div>
</main>
<!-- Back to Top -->
<button id="backToTop">‚Üë</button>
<!-- Footer -->
<footer class="site-footer">
    <div class="social-icons">
        <a href="#">üê¶</a>
        <a href="#">üìñ</a>
        <a href="#">üì±</a>
    </div>
    <p>¬© 2025 BuzzFeed India Clone.</p>
    <a href="sitemap.xml">Sitemap</a>
</footer>

<!-- Modal for Full Article -->
<div id="articleModal" class="modal">
    <div class="modal-content">
        <span class="close" id="closeModal">&times;</span>
        <h2 id="modalTitle"></h2>
        <small id="modalAuthor"></small>
        <img id="modalImage" alt="Article Image" style="width:100%; height:auto; margin:10px 0;"/>
        <p id="modalSummary"></p>
        <p id="modalFullContent"></p>
    </div>
</div>

<!-- Firebase SDK -->
<script type="module">
import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js';
import { getDatabase, ref, get } from 'https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js';

const firebaseConfig = {
    apiKey: "AIzaSyAlZ-SH4nDVopbizdg_h4NLcI161GNJ9ik",
    authDomain: "blogs-d2e15.firebaseapp.com",
    databaseURL: "https://blogs-d2e15-default-rtdb.firebaseio.com",
    projectId: "blogs-d2e15",
    storageBucket: "blogs-d2e15.appspot.com",
    messagingSenderId: "644745190816",
    appId: "1:644745190816:web:506c42478d9a0e060818c5",
    measurementId: "G-X4ERSBEV0J"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

const sections = ["news", "entertainment", "lifestyle", "trending"];

sections.forEach(section => {
    const wrapper = document.getElementById(section + 'Wrapper');
    const btn = document.querySelector(`.load-more[data-section="${section}"]`);

    // Fetch data from Firebase
    function fetchArticles() {
        const dbRef = ref(db, 'articles/' + section);
        get(dbRef).then(snapshot => {
            if (snapshot.exists()) {
                const articles = snapshot.val();
                console.log("Fetched Articles:", articles); // Debugging line
                const articleArray = Object.values(articles);
                displayArticles(articleArray);
            } else {
                console.log("No data available");
            }
        }).catch(error => {
            console.error("Error fetching data: ", error);
        });
    }

    function displayArticles(articles) {
        articles.forEach(article => {
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <img src="${article.img}" alt="${article.title}"/>
                <div class="card-content">
                    <h3>${article.title}</h3>
                </div>
            `;
            wrapper.appendChild(card);

            // Add click event to the entire card
            card.addEventListener('click', () => {
                openModal(article);
            });
        });
    }

    // Open modal with article content
    function openModal(article) {
        const modal = document.getElementById('articleModal');
        const modalTitle = document.getElementById('modalTitle');
        const modalAuthor = document.getElementById('modalAuthor');
        const modalImage = document.getElementById('modalImage');
        const modalSummary = document.getElementById('modalSummary');
        const modalFullContent = document.getElementById('modalFullContent');

        modalTitle.textContent = article.title;
        modalAuthor.textContent = `By ${article.author} on ${article.date}`;
        modalImage.src = article.img;  // Set the image source
        modalSummary.textContent = article.summary;  // Set the summary
        modalFullContent.textContent = article.fullContent;  // Set the full content

        modal.style.display = "block";
    }

    // Close modal
    const closeModal = document.getElementById('closeModal');
    closeModal.onclick = function() {
        const modal = document.getElementById('articleModal');
        modal.style.display = "none";
    }

    // Fetch articles on load
    btn.addEventListener('click', () => {
        fetchArticles();
    });

    // Initial fetch
    fetchArticles();
});

// Close modal when clicking outside of it
window.onclick = function(event) {
    const modal = document.getElementById('articleModal');
    if (event.target === modal) {
        modal.style.display = "none";
    }
}
</script>
</body>
</html>
